<!DOCTYPE html>
<html class="dark" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Predictive Search Dashboard</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0d93f2",
                        "background-light": "#f5f7f8",
                        "background-dark": "#101b22",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
  </head>
<body>
<div class="relative flex h-screen w-full flex-col bg-background-light dark:bg-background-dark font-display group/design-root overflow-y-auto">
<header class="flex shrink-0 items-center bg-background-light dark:bg-background-dark p-4 pb-2 justify-between sticky top-0 z-10">
<div class="flex size-12 shrink-0 items-center justify-start">
<span class="material-symbols-outlined text-zinc-800 dark:text-white" style="font-size: 28px;">
                    auto_awesome
                </span>
</div>
<h1 class="text-zinc-800 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center">Predictive Search</h1>
<div class="flex w-12 items-center justify-end">
<button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 bg-transparent text-zinc-800 dark:text-white gap-2 text-base font-bold leading-normal tracking-[0.015em] min-w-0 p-0">
<span class="material-symbols-outlined" style="font-size: 24px;">
                        help_outline
                    </span>
</button>
</div>
</header>
<main class="flex flex-col flex-1 px-4 py-3">
<div class="flex flex-col pt-4">
<label class="flex flex-col w-full max-w-[480px] mx-auto">
<p class="text-zinc-800 dark:text-white text-base font-medium leading-normal pb-2 sr-only">Search Reels</p>
<div class="relative">
<span class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 dark:text-zinc-500" style="font-size: 24px;">
                            search
                        </span>
<input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-zinc-800 dark:text-white focus:outline-0 focus:ring-0 border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-800 focus:border-primary h-16 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 pl-[52px] pr-[15px] text-lg font-normal leading-normal" placeholder="Describe a reel..." value="How to make sourdough bread"/>
</div>
</label>
<div class="flex flex-col w-full max-w-[480px] bg-background-light dark:bg-zinc-800 rounded-lg overflow-hidden mt-4 mx-auto" id="reel-suggestions">
<div class="flex items-center gap-3 p-3 border-b border-zinc-200 dark:border-zinc-700 last:border-b-0 hover:bg-zinc-100 dark:hover:bg-zinc-900/50 cursor-pointer">
<img alt="Reel Thumbnail" class="size-12 rounded-md object-cover flex-shrink-0" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCz9oZ44ty7sC1I4ic5_4lLFzz9_3rDe5M8BRePSz0nmXorxd3ITkcAbpvUqmnnSdFYNj9nnLBn2msHHpU5CQ26e1UZSSMckBdrXURE_XxX6m-6s1nJH7rbl9cs3iJ-7sR4jdCeT3HPZRS-LWkJOEbc5jkrNWICEyjVbO0eYhQpzXxb65gMJIQ7SWb-29kZjLkwDbLoXCIVAbwM1O0iQ7fYMJH6vC0MOvC_1IS_4cRJsqzSRBoSDwKwUDKgVJZrx9zVR7pR4mQXTOUO"/>
<p class="text-zinc-800 dark:text-white text-sm font-normal leading-normal truncate flex-1">
                                    "Beginner's guide to sourdough starter"
                                </p>
<span class="material-symbols-outlined text-zinc-500 dark:text-zinc-400" style="font-size: 20px;">
                                arrow_outward
                            </span>
</div>
<div class="flex items-center gap-3 p-3 border-b border-zinc-200 dark:border-zinc-700 last:border-b-0 hover:bg-zinc-100 dark:hover:bg-zinc-900/50 cursor-pointer">
<img alt="Reel Thumbnail" class="size-12 rounded-md object-cover flex-shrink-0" src="https://lh3.googleusercontent.com/aida-public/AB6AXuABk1XbEujkxvzKBa6dEqGGuLW1rZVdw10Hy_dw523i_Lk-GeBImd5BGUWaWKsxIvutQ7Xu8N4KSBd35SJg9cNp-kaJneZ6rztUjvADkYzbdKzVD37X3ArGqwEuwvqc9FZ1hwGFgcSN7DSp5HN6fmJvuNxXEDzTU_-GXKrL9UOOq-2-NgZcfBkJwgkVxcWQJEEkSfbTBs9WfoYUtwmAnkD46jgd5dhyPQB2ngU9zEchWhNPYGb6Pw4juKmXP48x9BhcH9oWi53UubFS"/>
<p class="text-zinc-800 dark:text-white text-sm font-normal leading-normal truncate flex-1">
                                    "Easy no-knead sourdough bread recipe"
                                </p>
<span class="material-symbols-outlined text-zinc-500 dark:text-zinc-400" style="font-size: 20px;">
                                arrow_outward
                            </span>
</div>
<div class="flex items-center gap-3 p-3 border-b border-zinc-200 dark:border-zinc-700 last:border-b-0 hover:bg-zinc-100 dark:hover:bg-zinc-900/50 cursor-pointer">
<img alt="Reel Thumbnail" class="size-12 rounded-md object-cover flex-shrink-0" src="https://lh3.googleusercontent.com/aida-public/AB6AXuATYv4U9weaFoHjMfVKUrmjPum4d1YG9PudTxefrYwfMyhzvxQOkuHz3dsIKmMmSOkwx8ND9hN00e0DfqcGQAWh5a4Esh58CeG_f1Uz1SpMDzCtQWMq6lN6X6IogKl8_U2IYjbXFx05OCsF4Y3_aFIMj5KJo0G5PLeZZJpusenlaypKD-gTHYxCwOFUVW38-mzhW04XQyRl5h8zzrWfLzlYjar-rm-aA27AMRLt_EvlvDRcg-Gk9UjWRh7HAtlnI_Y8Umf_5PjbLYau"/>
<p class="text-zinc-800 dark:text-white text-sm font-normal leading-normal truncate flex-1">
                                    "Sourdough shaping techniques for beginners"
                                </p>
<span class="material-symbols-outlined text-zinc-500 dark:text-zinc-400" style="font-size: 20px;">
                                arrow_outward
                            </span>
</div>
<div class="flex items-center gap-3 p-3 border-b border-zinc-200 dark:border-zinc-700 last:border-b-0 hover:bg-zinc-100 dark:hover:bg-zinc-900/50 cursor-pointer">
<img alt="Reel Thumbnail" class="size-12 rounded-md object-cover flex-shrink-0" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDcpleMbSQu4x8nm1COLaHZjSf2_c5e0dSa7a3_DsX_7s7uBi6cuebjm95V-21wZlaaKT7BLU6nFdNZEkgMwmsa2Tb5R-rVHuSqoPsFwHSdTVr0rPer-vMeKsi9o2j7nWP8FB3ZxndMDmluYS6FyPg7NHwDeYieRulFGoDd0jTZIUFfQrp4Erz7eOOG1FjIzMaipXhw05F95Mr3aJK8dgRh6vY0F27ljuRRNxBr45EhxVPytTvuYexQ5pziKl1tbE0k6GIjfT1VcCpy"/>
<p class="text-zinc-800 dark:text-white text-sm font-normal leading-normal truncate flex-1">
                                    "Advanced sourdough scoring patterns"
                                </p>
<span class="material-symbols-outlined text-zinc-500 dark:text-zinc-400" style="font-size: 20px;">
                                arrow_outward
                            </span>
</div>
</div>
</div>
<div class="flex flex-col gap-4 mt-8 px-4 w-full max-w-[480px] mx-auto">
<div class="flex flex-col gap-2">
<label class="text-zinc-800 dark:text-white text-base font-medium leading-normal" for="reel-link-input">Paste Instagram Reel Link</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 dark:text-zinc-500" style="font-size: 20px;">
                            link
                        </span>
<input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-zinc-800 dark:text-white focus:outline-0 focus:ring-0 border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-800 focus:border-primary h-12 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 pl-10 pr-4 text-base font-normal leading-normal" id="reel-link-input" placeholder="https://www.instagram.com/reel/..."/>
</div>
</div>
<button id="process-reel-btn" class="flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 bg-primary text-white gap-2 text-base font-bold leading-normal tracking-[0.015em] min-w-0 px-4">
<span class="material-symbols-outlined" style="font-size: 20px;">
                        bolt
                    </span>
<span>Process Instagram Reel</span>
</button>
</div>
</main>
<footer class="sticky bottom-0 bg-background-light dark:bg-background-dark px-4 py-4 border-t border-zinc-200 dark:border-zinc-800 flex flex-col items-center justify-center mt-auto">
<p class="text-zinc-600 dark:text-zinc-300 text-sm font-medium leading-normal">Powered by Supermemory.ai</p>
</footer>
</div>

<script>
  // Simple client-side handler to submit the reel URL to the FastAPI backend
  // and navigate to the processing status screen.
  async function submitReel() {
    const input = document.getElementById('reel-link-input');
    if (!input) return;

    const instagramUrl = input.value.trim();
    if (!instagramUrl) {
      alert('Please paste an Instagram reel URL.');
      return;
    }

    try {
      const resp = await fetch('/api/reels/submit', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ instagram_url: instagramUrl }),
      });

      if (!resp.ok) {
        const err = await resp.json().catch(() => ({}));
        throw new Error(err.detail || 'Failed to submit reel');
      }

      const data = await resp.json();
      const taskId = data.task_id;

      // Navigate to the processing status UI (served by FastAPI), passing the task id
      window.location.href = `/processing-status?task_id=${encodeURIComponent(taskId)}`;
    } catch (e) {
      console.error(e);
      alert('Error submitting reel: ' + e.message);
    }
  }

  window.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('process-reel-btn');
    if (!btn) return;
    btn.addEventListener('click', submitReel);
  });
</script>

</body></html>